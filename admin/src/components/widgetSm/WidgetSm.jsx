import "./widgetSm.css";
import { Visibility } from "@material-ui/icons";
import { useEffect, useState } from "react";
import axios from "axios";

export default function WidgetSm() {
  const [newUsers, setNewUsers] = useState([]);

  useEffect(() => {
    const getNewUsers = async () => {
      try {
        const res = await axios.get("/users?new=true", {
          headers: {
            authorization:
              "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyZGQzNmExNmVjMzAwNjk0NTUwNDMyZiIsImlzQWRtaW4iOnRydWUsImlhdCI6MTY1OTMzMTA4NiwiZXhwIjoxNjU5NzYzMDg2fQ.lFCkkZ8-b0JjjgdSvwYuQFWn_ZcbgeEqf3g_xmI9CHk",
          },
        });
        setNewUsers(res.data);
      } catch (err) {
        console.log(err);
      }
    };

    getNewUsers();
  }, []);

  return (
    <div className="widgetSm">
      <span className="widgetSmTitle">New Join Members</span>
      <ul className="widgetSmList">
        {newUsers.map((user) => (
          <li className="widgetSmListItem">
            <img
              src={
                user.profilePic ||
                "data:image/jpeg;base64,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"
              }
              alt=""
              className="widgetSmImg"
            />
            <div className="widgetSmUser">
              <span className="widgetSmUsername">{user.username}</span>
              <span className="widgetSmUserTitle">Software Engineer</span>
            </div>
            <button className="widgetSmButton">
              <Visibility className="widgetSmIcon" />
              Display
            </button>
          </li>
        ))}
      </ul>
    </div>
  );
}
